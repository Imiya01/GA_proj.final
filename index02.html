<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
    <link rel="stylesheet" href="css/style.css">
    <title>Document</title>
    <script type="module">
import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.9.4/firebase-app.js';
import {
  getDatabase,
  ref,
  set,
  onValue,
} from 'https://www.gstatic.com/firebasejs/9.9.4/firebase-database.js';

const firebaseConfig = {
  apiKey: 'AIzaSyCPAX2TtBekrmRhw5Bl6MVW_JDJxIosgIU',
  authDomain: 'boilerplate01.firebaseapp.com',
  databaseURL: 'https://boilerplate01-default-rtdb.firebaseio.com',
  projectId: 'boilerplate01',
  storageBucket: 'boilerplate01.appspot.com',
  messagingSenderId: '273203137658',
  appId: '1:273203137658:web:3798ffac3083f2285f3fc3',
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const db = getDatabase();
// console.log('firebase app:', app);

// Listeners
var delta = document.getElementById('form');
if(delta){
delta.addEventListener('submit', writeUserData);
}

// document.getElementById('form').addEventListener('submit', writeUserData);
// document.getElementById('readDataBtn').addEventListener('click', getData);

function writeUserData(event) {
  event.preventDefault();
  
  const reference = ref(db, 'users/');
  set(reference, {
    nameField: document.getElementById('nameField').value,
    ageField: document.getElementById('ageField').value,
  });
}

function getData() {
  const userRef = ref(db, 'users');
  onValue(userRef, (snapshot) => {
    firebaseData = snapshot.val();
  });
}




    </script>

</head>


<body>
  <h1 class="title">Blog Search</h1></div>
  <div><input class="center" placeholder= "Search by Title"type="text" name="searchbar" id="searchbar"></div>
  <div>
  <h1>User DB</h1>

<!-- <form id="form">
  <input type = "text" placeholder = "name" id="nameField">
  <input type = "text" placeholder = "age" id="ageField">
  <button type="submit" value="Submit">Submit</button>
</form>

<button id="readDataBtn">Read Data</button>

<button onclick="updateData()">Mess with data</button> -->
</div>
  <ul class="subtitles">
      <li class="blog-title">Blog Selection</li>
     <li class="source-title">Source</li>
  </ul>
  <div class="datum"></div>
</body>
<script type="module" src="js/firebase.js"></script>
<script src="js/main01.js"></script>
</html>
